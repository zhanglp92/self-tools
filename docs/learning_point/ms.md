
## 要点整理

### BST (二叉查找树)

定义: 左子树的所有节点值>=根节点, 右子树的所有节点值<根节点. (查找时和二分查找相似)

缺点: 当不平衡时, 查找速度就变成了O(n)

### 红黑树

红黑树, 就是为了解决BST的不平衡问题

特性: (目的为了保证子平衡)
1. 节点是红色或黑色.
2. 根节点是黑色.
3. 每个叶子节点都是黑色的空节点(NIL节点).
4. 每个红色节点的两个子节点都是黑色.(从每个叶子到根的所有路径上不能有两个连续的红色节点)
5. 从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。

### AVL (平衡二叉树)

为什么有平衡二叉树:
* 因为搜索效率取决于树的高度, 即保持树的高度越小, 树的查找效率越高.

定义:
* 左右子树的高度相差不超过1的树为平衡二叉树.
* 平衡之意, 如天平, 即两边的分量大约相同.

#### 平衡因子

* 计算公式: 平衡因子 = 左子树的高度 - 右子树的高度
* 取值范围: -1,0,1

#### 失衡调整 (寻找最小不平衡树, 再旋转)

* 平衡二叉树的失衡调整主要是通过旋转最小失衡子树来实现的. 根据旋转的方向有两种处理方式, 左旋与右旋.
* 旋转的目的就是减少高度, 通过降低整棵树的高度来平衡. 哪边的树高, 就把那边的树向上旋转.

左旋调整步骤:
* 节点的右孩子替代此节点位置
* 右孩子的左子树变为该节点的右子树
* 节点本身变为右孩子的左子树

### B tree (又名平衡多路查找树)

特点: 
* 所有键值分布在整个树中
* 任何关键字出现且只出现在一个节点中
* 搜索有可能在非叶子节点结束
* 在关键字全集内做一次查找，性能逼近二分查找算法

### B+ tree

B+来自B, B+树与B树的不同在于:
* 所有关键字存储在叶子节点，非叶子节点不存储真正的data
* 为所有叶子节点增加了一个链指针

### MYSQL 为什么使用B+, 不使用B

* B+树更适合外部存储(一般指磁盘存储),由于内节点(非叶子节点)不存储data，所以一个节点可以存储更多的内节点，每个节点能索引的范围更大更精确。也就是说使用B+树单次磁盘IO的信息量相比较B树更大，IO效率更高。
* mysql是关系型数据库，经常会按照区间来访问某个索引列，B+树的叶子节点间按顺序建立了链指针，加强了区间访问性，所以B+树对索引列上的区间范围查询很友好。而B树每个节点的key和data在一起，无法进行区间查找。


## 复习方向
1. https://juejin.im/post/6844903784171175944
2. https://zhuanlan.zhihu.com/p/106910633

## 参考资料
[红黑树](https://zhuanlan.zhihu.com/p/31805309)